import{ai as n,X as o,l as M,aj as v,ak as D,al as L,c as U,d as A,r as h,e as B,q as k,g as d,w as O,u as c,F as N,o as V,ae as p}from"./index-694637ab.js";import{l as y}from"./components-eb9c8b61.js";import{u as I,a as G}from"./chartEditStore-7bfce8d5.js";import{l as j}from"./plugin-045c319a.js";import{i as b}from"./icon-0ec4fc1a.js";const{CopyIcon:K,CutIcon:z,ClipboardOutlineIcon:F,TrashIcon:W,ChevronDownIcon:X,ChevronUpIcon:Y,LockOpenOutlineIcon:$,LockClosedOutlineIcon:q,EyeOutlineIcon:J,EyeOffOutlineIcon:Q}=b.ionicons5,{UpToTopIcon:Z,DownToBottomIcon:ee,PaintBrushIcon:ne,Carbon3DSoftwareIcon:te,Carbon3DCursorIcon:oe}=b.carbon,e=I(),S=(t=3)=>({type:"divider",key:`d${t}`}),u=[{label:"锁定",key:n.LOCK,icon:o(q),fnHandle:e.setLock},{label:"解锁",key:n.UNLOCK,icon:o($),fnHandle:e.setUnLock},{label:"隐藏",key:n.HIDE,icon:o(Q),fnHandle:e.setHide},{label:"显示",key:n.SHOW,icon:o(J),fnHandle:e.setShow},{type:"divider",key:"d0"},{label:"复制",key:n.COPY,icon:o(K),fnHandle:e.setCopy},{label:"剪切",key:n.CUT,icon:o(z),fnHandle:e.setCut},{label:"粘贴",key:n.PARSE,icon:o(F),fnHandle:e.setParse},{type:"divider",key:"d1"},{label:"置顶",key:n.TOP,icon:o(Z),fnHandle:e.setTop},{label:"置底",key:n.BOTTOM,icon:o(ee),fnHandle:e.setBottom},{label:"上移",key:n.UP,icon:o(Y),fnHandle:e.setUp},{label:"下移",key:n.DOWN,icon:o(X),fnHandle:e.setDown},{type:"divider",key:"d2"},{label:"清空剪贴板",key:n.CLEAR,icon:o(ne),fnHandle:e.setRecordChart},{label:"删除",key:n.DELETE,icon:o(W),fnHandle:e.removeComponentList}],_=[{label:"创建分组",key:n.GROUP,icon:o(te),fnHandle:e.setGroup},{label:"解除分组",key:n.UN_GROUP,icon:o(oe),fnHandle:e.setUnGroup}],ae=[n.PARSE,n.CLEAR],E=(t,a)=>{if(!a)return t;const l=[];return a.forEach(r=>{l.push(...t.filter(s=>s.key===r))}),l},le=(t,a)=>a?t.filter(l=>a.findIndex(r=>r!==l.key)!==-1):t,i=M([]),se=(t,a,l,r,s)=>{t.stopPropagation(),t.preventDefault();let f=t.target;for(;f instanceof SVGElement;)f=f.parentNode;e.setTargetSelectChart(a&&a.id),e.setRightMenuShow(!1),e.getTargetChart.selectId.length>1?i.value=_:i.value=u,a||(i.value=E(v(i.value),ae)),r&&(i.value=le([..._,S(),...u],r)),s&&(i.value=E([..._,S(),...u],s)),l&&(i.value=l(D(v(i.value)),[..._,...u],a)),L().then(()=>{e.setMousePosition(t.clientX,t.clientY),e.setRightMenuShow(!0)})},ie=()=>(i.value=u,{menuOptions:i,defaultOptions:u,defaultMultiSelectOptions:_,handleContextMenu:se,onClickOutSide:()=>{e.setRightMenuShow(!1)},handleMenuSelect:l=>{e.setRightMenuShow(!1);const r=i.value.filter(s=>s.key===l);i.value.forEach(s=>{if(s.key===l){if(s.fnHandle){s.fnHandle();return}r||j()}})},mousePosition:e.getMousePosition});const re={class:"go-chart"},ce={style:{overflow:"hidden",display:"flex"}},de=A({__name:"index",setup(t){const a=G(),l=I();a.canvasInit(l.getEditCanvas);const r=y(()=>p(()=>import("./index-27fba5e8.js"),["static/js/index-27fba5e8.js","static/js/index-694637ab.js","static/css/index-16c14d98.css","static/js/index-9a522b31.js","static/js/icon-0ec4fc1a.js","static/css/index-ebca6225.css","static/js/chartLayoutStore-52717d84.js","static/js/chartEditStore-7bfce8d5.js","static/js/plugin-045c319a.js","static/js/index-831d8bed.js","static/js/SettingItem-02b08d1d.js","static/css/SettingItemBox-36299330.css","static/js/SettingItemBox-019555c5.js","static/js/CollapseItem-f6185e00.js","static/js/index.esm.min-70ee7e56.js","static/js/http-362d2a23.js","static/js/lodash-6953d83c.js","static/css/index-436e498c.css","static/js/components-eb9c8b61.js","static/css/index-9c65c378.css"])),s=y(()=>p(()=>import("./index-21cedf7a.js").then(C=>C.i),["static/js/index-21cedf7a.js","static/js/index-694637ab.js","static/css/index-16c14d98.css","static/js/index-9a522b31.js","static/js/icon-0ec4fc1a.js","static/css/index-ebca6225.css","static/js/components-eb9c8b61.js","static/js/plugin-045c319a.js","static/js/index-831d8bed.js","static/js/SettingItem-02b08d1d.js","static/css/SettingItemBox-36299330.css","static/js/SettingItemBox-019555c5.js","static/js/CollapseItem-f6185e00.js","static/js/chartEditStore-7bfce8d5.js","static/js/index.esm.min-70ee7e56.js","static/js/http-362d2a23.js","static/js/lodash-6953d83c.js","static/css/index-436e498c.css","static/js/chartLayoutStore-52717d84.js","static/css/index-bcc2c47f.css"])),f=y(()=>p(()=>import("./index-24e0eb86.js"),["static/js/index-24e0eb86.js","static/js/index-694637ab.js","static/css/index-16c14d98.css","static/js/components-eb9c8b61.js","static/js/icon-0ec4fc1a.js","static/js/chartLayoutStore-52717d84.js","static/js/chartEditStore-7bfce8d5.js","static/js/plugin-045c319a.js","static/css/index-b9eaa353.css"])),g=y(()=>p(()=>import("./index-529d8a66.js"),["static/js/index-529d8a66.js","static/js/chartLayoutStore-52717d84.js","static/js/index-694637ab.js","static/css/index-16c14d98.css","static/js/chartEditStore-7bfce8d5.js","static/js/plugin-045c319a.js","static/js/icon-0ec4fc1a.js"])),{menuOptions:H,onClickOutSide:w,mousePosition:m,handleMenuSelect:P}=ie();return(C,fe)=>{const x=h("n-layout-content"),T=h("n-layout"),R=h("n-dropdown");return V(),B(N,null,[k("div",re,[d(T,null,{default:O(()=>[d(x,{"content-style":"overflow:hidden; display: flex"},{default:O(()=>[k("div",ce,[d(c(s)),d(c(r))]),d(c(f))]),_:1})]),_:1})]),d(R,{placement:"bottom-start",trigger:"manual",size:"small",x:c(m).x,y:c(m).y,options:c(H),show:c(l).getRightMenuShow,"on-clickoutside":c(w),onSelect:c(P)},null,8,["x","y","options","show","on-clickoutside","onSelect"]),d(c(g))],64)}}}),ue=U(de,[["__scopeId","data-v-f2a4fce0"]]),Ce=Object.freeze(Object.defineProperty({__proto__:null,default:ue},Symbol.toStringTag,{value:"Module"}));export{S as d,Ce as i,ie as u};
