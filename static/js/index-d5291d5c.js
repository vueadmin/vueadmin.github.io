var R=(t,u,c)=>new Promise((h,y)=>{var e=r=>{try{C(c.next(r))}catch(l){y(l)}},v=r=>{try{C(c.throw(r))}catch(l){y(l)}},C=r=>r.done?h(r.value):Promise.resolve(r.value).then(e,v);C((c=c.apply(t,u)).next())});import{c as $,d as T,ae as ue,$ as pe,a0 as _e,p as de,l as m,L as Q,r as i,o as b,e as S,Q as L,R as H,g as a,u as o,q as E,w as d,m as me,Z as he,b4 as ge,b2 as Z,b5 as ve,a1 as fe,b6 as ye,F as V,s as M,h as G,t as j,ag as F,z as Ce,A as be,E as K,b7 as Oe,a3 as Ee}from"./index-33bf1b3f.js";import{C as Se}from"./index-2660a16d.js";import{l as ke,c as Y}from"./components-ff71c8fb.js";import{a as xe,b as Ie,l as Ne}from"./plugin-c8bfa633.js";import{i as Te}from"./icon-fbd9f779.js";import{f as Le,c as we,d as Ae}from"./index-8e3e5bf7.js";import{u as D,a as q,C as Re}from"./chartLayoutStore-01924edd.js";import{P as p,b as _,u as Be}from"./chartEditStore-c8c28128.js";import{u as Fe}from"./packagesStore-efc08e28.js";const $e={class:"go-chart-common"},He={class:"chart-content-list"},De=T({__name:"index",props:{selectOptions:{type:Object,default:()=>{}}},setup(t){const u=t,c=ke(()=>ue(()=>import("./index-ad08d695.js"),["static/js/index-ad08d695.js","static/js/chartEditStore-c8c28128.js","static/js/index-33bf1b3f.js","static/css/index-7e5579fc.css","static/js/plugin-c8bfa633.js","static/js/icon-fbd9f779.js","static/js/chartLayoutStore-01924edd.js","static/js/components-ff71c8fb.js","static/js/index-8e3e5bf7.js","static/js/SettingItem-fdaa927c.js","static/css/SettingItemBox-36299330.css","static/js/SettingItemBox-d4806ccf.js","static/js/CollapseItem-d5358824.js","static/js/index.esm.min-6647f1cb.js","static/js/http-2604e9e8.js","static/js/lodash-66d03337.js","static/css/index-ce954ed8.css","static/js/packagesStore-efc08e28.js","static/js/index-2660a16d.js","static/css/index-ebca6225.css","static/css/index-ec8c4e4a.css"])),h=pe(),y=_e(()=>e.categorysNum>2?!0:!h.getHidePackageOneCategory);let e=de({menuOptions:[],selectOptions:{},categorys:{all:[]},categoryNames:{all:"所有"},categorysNum:0,saveSelectOptions:{}});const v=m(),C=l=>{for(const s in l){e.selectOptions=l[s];break}};Q(()=>u.selectOptions,l=>{if(e.categorysNum=0,!!l){l.list.forEach(s=>{const f=e.categorys[s.category];e.categorys[s.category]=f&&f.length?[...f,s]:[s],e.categoryNames[s.category]=s.categoryName,e.categorys.all.push(s)});for(const s in e.categorys)e.categorysNum+=1,e.menuOptions.push({key:s,label:e.categoryNames[s]});C(e.categorys),v.value=e.menuOptions[0].key}},{immediate:!0});const r=l=>{e.selectOptions=e.categorys[l]};return(l,s)=>{const f=i("n-menu"),x=i("n-scrollbar");return b(),S("div",$e,[L(a(f,{class:"chart-menu-width",value:v.value,"onUpdate:value":[s[0]||(s[0]=w=>v.value=w),r],options:o(e).menuOptions,"icon-size":16,indent:18},null,8,["value","options"]),[[H,y.value]]),E("div",He,[a(x,null,{default:d(()=>[a(o(c),{menuOptions:o(e).selectOptions},null,8,["menuOptions"])]),_:1})])])}}}),Pe=$(De,[["__scopeId","data-v-7e154677"]]),ze=me(),X=m(ze.getAppTheme);D();const{getCharts:J}=he(D()),{getPackagesList:W}=Fe(),k=[],B={[p.CHARTS]:{label:_.CHARTS,hide:!0},[p.INFORMATIONS]:{label:_.INFORMATIONS,hide:!1},[p.TABLES]:{label:_.TABLES,hide:!0},[p.DECORATES]:{label:_.DECORATES,hide:!0},[p.BACKGROUNDS]:{label:_.BACKGROUNDS,hide:!0},[p.RABBITS]:{label:_.RABBITS,hide:!0},[p.CLOTHING]:{label:_.CLOTHING,hide:!0},[p.DECORATION]:{label:_.DECORATION,hide:!0},[p.JEWELRY]:{label:_.JEWELRY,hide:!0},[p.LINE]:{label:_.LINE,hide:!0},[p.OTHER]:{label:_.OTHER,hide:!1}},Ue=()=>{for(const t in W)k.push({key:t,icon:B[t].icon,label:B[t].label,list:W[t],show:B[t].hide})};Ue();k[0].key;const I=m(k[0].key),N=m(k[0]),Ve=(t,u)=>{N.value=u},Me={class:"list-img",alt:"图表图片"},Ge=T({__name:"index",props:{chartConfig:{type:Object,required:!0}},setup(t){const u=t,c=m(""),h=()=>R(this,null,function*(){c.value=u.chartConfig.image});return Q(()=>u.chartConfig.key,()=>h(),{immediate:!0}),(y,e)=>{const v=ge("lazy");return L((b(),S("img",Me,null,512)),[[v,c.value]])}}});const je=t=>(Ce("data-v-01d20f5a"),t=t(),be(),t),Ke={class:"go-chart-search-box"},Ye={class:"search-list-box"},qe=["title","onClick"],Je=je(()=>E("div",{class:"popover-modal"},null,-1)),We=T({__name:"index",props:{menuOptions:{type:Array,default:()=>[]}},setup(t){const u=t;Z(n=>({"07df333e":o(X)}));const c=Be(),h=D(),{SearchIcon:y,AlbumsIcon:e,GridIcon:v}=Te.ionicons5,C=m(!1),r=m(!1),l=m(void 0),s=m(null),f=m([]),x=m(h.getChartType),w=[{label:"单列",icon:e,value:q.SINGLE},{label:"双列",icon:v,value:q.DOUBLE}];(n=>{const O=[];for(const A of n)O.push(...A.list);return O})(u.menuOptions);const P=()=>{l.value=void 0,r.value=!1,s.value=null,f.value=[]},z=n=>{r.value&&n.target&&(n.target.closest(".go-chart-search")||P())},ee=n=>R(this,null,function*(){try{xe(),Y(n.chartKey,Le(n)),Y(n.conKey,we(n));let O=yield Ae(n);c.addComponentList(O,!1,!0),c.setTargetSelectChart(O.id),P(),Ie()}catch(O){Ne(),window.$message.warning("图表正在研发中, 敬请期待...")}}),te=n=>{x.value=n,h.setItem(Re.Chart_TYPE,n)};return ve(document,"click",n=>{z(n)}),fe(()=>{ye(document,"click",z)}),(n,O)=>{const A=i("n-input-group"),oe=i("n-empty"),se=i("n-text"),ne=i("n-scrollbar"),ae=i("n-popover"),ce=i("n-icon"),le=i("n-tooltip"),re=i("n-button"),ie=i("n-button-group");return b(),S("div",Ke,[E("div",{class:F(["chart-search go-transition",{"chart-search-focus":C.value}])},[a(ae,{class:"chart-search-popover","show-arrow":!1,show:r.value,to:!1,trigger:"hover",placement:"bottom-start"},{trigger:d(()=>[a(A)]),default:d(()=>[E("div",Ye,[a(ne,{style:{"max-height":"500px"}},{default:d(()=>[L(a(oe,{size:"small",description:"没有找到组件~"},null,512),[[H,!f.value.length]]),(b(!0),S(V,null,M(f.value,g=>(b(),S("div",{class:"list-item go-flex-items-center go-ellipsis-1",key:g.key,title:g.title,onClick:U=>ee(g)},[a(o(Ge),{class:"list-item-img",chartConfig:g},null,8,["chartConfig"]),a(se,{class:"list-item-fs",depth:"2"},{default:d(()=>[G(j(g.title),1)]),_:2},1024)],8,qe))),128))]),_:1}),Je])]),_:1},8,["show"])],2),a(ie,{class:F(["btn-group go-transition",{"btn-group-focus":C.value}]),style:{display:"flex"}},{default:d(()=>[(b(),S(V,null,M(w,(g,U)=>a(re,{ghost:"",size:"small",key:U,type:x.value===g.value?"primary":"tertiary",onClick:st=>te(g.value)},{default:d(()=>[a(le,{"show-arrow":!1,trigger:"hover"},{trigger:d(()=>[a(ce,{size:"14",component:g.icon},null,8,["component"])]),default:d(()=>[G(" "+j(g.label),1)]),_:2},1024)]),_:2},1032,["type","onClick"])),64))]),_:1},8,["class"])])}}}),Qe=$(We,[["__scopeId","data-v-01d20f5a"]]);const Ze={class:"menu-width-box"},Xe={class:"menu-component-box"},et=T({__name:"index",setup(t){return Z(u=>({"5ac11e63":o(X)})),(u,c)=>{const h=i("n-menu"),y=i("go-skeleton");return b(),K(o(Se),{class:F(["go-content-charts",{scoped:!o(J)}]),title:"",depth:1,backIcon:!1},{"top-right":d(()=>[L(a(o(Qe),{menuOptions:o(k)},null,8,["menuOptions"]),[[H,o(J)]])]),default:d(()=>[E("aside",null,[E("div",Ze,[a(h,{class:"menu-width",value:o(I),"onUpdate:value":[c[0]||(c[0]=e=>Oe(I)?I.value=e:null),o(Ve)],options:o(k),"icon-size":16,indent:18},null,8,["value","options","onUpdate:value"]),E("div",Xe,[a(y,{load:!o(N),round:"",text:"",repeat:2,style:{width:"90%"}},null,8,["load"]),o(N)?(b(),K(o(Pe),{selectOptions:o(N),key:o(I)},null,8,["selectOptions"])):Ee("",!0)])])])]),_:1},8,["class"])}}}),tt=$(et,[["__scopeId","data-v-7e7e8b9f"]]),mt=Object.freeze(Object.defineProperty({__proto__:null,default:tt},Symbol.toStringTag,{value:"Module"}));export{Ge as _,mt as i};
