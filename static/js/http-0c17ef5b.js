var b=Object.defineProperty;var T=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var q=(e,t,r)=>t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l=(e,t)=>{for(var r in t||(t={}))F.call(t,r)&&q(e,r,t[r]);if(T)for(var r of T(t))S.call(t,r)&&q(e,r,t[r]);return e};import{aE as N,aI as y,ci as p,aH as h,cj as L}from"./index-bf5e9e89.js";const O="javascript:",a=e=>{if(typeof e=="string")if(e.startsWith(O)){const t=e.split(O)[1];let r;try{r=new Function(`${t}`)()}catch(m){console.log(m),window.$message.error("js内容解析有误！")}return r}else return e;for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const r=e[t];e[t]=a(r)}return e},M=(e,t)=>{if(!e||!t)return;const{requestOriginUrl:r,requestParams:m}=t,{requestUrl:f,requestContentType:w,requestDataType:C,requestHttpType:D,requestParamsBodyType:R,requestSQLContent:E,requestParams:c}=e;if(C===N.STATIC||!f)return;let o=l(l({},m.Header),c.Header);o=a(o);let s={},d=l({},c.Params);d=a(d);let u=new FormData;switch(u.set("default","defaultData"),R){case y.NONE:break;case y.JSON:o["Content-Type"]=p.JSON,s=a(c.Body.json),typeof s=="string"&&(s=JSON.parse(s));break;case y.XML:o["Content-Type"]=p.XML,s=a(c.Body.xml);break;case y.X_WWW_FORM_URLENCODED:{o["Content-Type"]=p.FORM_URLENCODED;const n=c.Body["x-www-form-urlencoded"];for(const i in n)u.set(i,a(n[i]));s=u;break}case y.FORM_DATA:{o["Content-Type"]=p.FORM_DATA;const n=c.Body["form-data"];for(const i in n)u.set(i,a(n[i]));s=u;break}}w===h.SQL&&(o["Content-Type"]=p.JSON,s=E);try{const n=new Function("return `"+`${r}${f}`.trim()+"`")();return L({url:n,method:D,data:s,params:d,headers:o})}catch(n){console.log(n),window.$message.error("URL地址格式有误！")}};export{M as c};
