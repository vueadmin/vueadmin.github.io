var _=(t,e,n)=>new Promise((c,o)=>{var i=l=>{try{d(n.next(l))}catch(u){o(u)}},m=l=>{try{d(n.throw(l))}catch(u){o(u)}},d=l=>l.done?c(l.value):Promise.resolve(l.value).then(i,m);d((n=n.apply(t,e)).next())});import{_ as w}from"./index-06f98fcb.js";import{u as B,E as L}from"./chartEditStore-070f091b.js";import{u as A,a as E}from"./chartLayoutStore-45ff22c0.js";import{cs as I,ct as T,cu as K,cv as $,a as G,cw as P,cx as R,cy as M,cz as N,c as U,d as H,n as z,l as V,a0 as Y,L as q,an as J,o as C,e as h,q as O,F as Q,s as W,g as X,u as x,ag as Z,cA as j,aD as ee}from"./index-faaf412e.js";import{a as b,b as S,l as D}from"./plugin-f61fd98c.js";import{c as f}from"./components-3a2c7449.js";import{f as y,c as v,d as F}from"./index-1b4ab024.js";import{u as te}from"./packagesStore-f0ff66a7.js";import"./index-d59da41d.js";import"./icon-4c460499.js";import"./SettingItem-64606c24.js";/* empty css                                                                   */import"./SettingItemBox-b072976d.js";import"./CollapseItem-dd691c5d.js";import"./index.esm.min-fa373c7c.js";import"./http-870c1deb.js";import"./lodash-c4889ab6.js";function ne(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var ae=ne;function se(t,e,n){var c=-1,o=t.length;e<0&&(e=-e>o?0:o+e),n=n>o?o:n,n<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++c<o;)i[c]=t[c+e];return i}var oe=se,re=I,ie=oe;function ce(t,e){return e.length<2?t:re(t,ie(e,0,-1))}var le=ce,ue=T,fe=ae,de=le,me=K;function ge(t,e){return e=ue(e,t),t=de(t,e),t==null||delete t[me(fe(e))]}var pe=ge,_e=$;function Ce(t){return _e(t)?void 0:t}var he=Ce,ye=G,ve=N,ke=pe,Le=T,Ee=P,Oe=he,xe=R,be=M,Se=1,De=2,Fe=4,Te=xe(function(t,e){var n={};if(t==null)return n;var c=!1;e=ye(e,function(i){return i=Le(i,t),c||(c=i.length>1),i}),Ee(t,be(t),n),c&&(n=ve(n,Se|De|Fe,Oe));for(var o=e.length;o--;)ke(n,e[o]);return n}),we=Te;const Be={class:"go-content-charts-item-animation-patch"},Ae=["onDragstart","onDblclick","onClick"],Ie={class:"list-center go-flex-center go-transition"},Ke=H({__name:"index",props:{menuOptions:{type:Array,default:()=>[]}},setup(t){const e=B(),{getPackagesList:n}=te();z(()=>{c()});const c=()=>{const r=e.getComponentList.map(a=>a.key);r.includes("TextGroup")||n.Informations.map(a=>{a.key==="TextGroup"&&u(a)}),r.includes("TextCommon")||n.Informations.map(a=>{a.key==="TextCommon"&&u(a)}),r.includes("Other1")||n.Other.map(a=>{a.key==="Other1"&&u(a)}),r.includes("Other2")||n.Other.map(a=>{a.key==="Other2"&&u(a)})},o=A(),i=V(),m=Y(()=>o.getChartType),d=(s,r)=>{f(r.chartKey,y(r)),f(r.conKey,v(r)),s.dataTransfer.setData(j.DRAG_KEY,ee(we(r,["image"]))),e.setEditCanvas(L.IS_CREATE,!0)},l=()=>{e.setEditCanvas(L.IS_CREATE,!1)},u=s=>_(this,null,function*(){try{b();const r=["Backgrounds","Rabbits","Clothing","Informations","Other"];f(s.chartKey,y(s)),f(s.conKey,v(s));let a=yield F(s);e.addComponentList(a,!1,!0),e.setTargetSelectChart(a.id),r.includes(s.package)&&e.setLock(!0,!0),S()}catch(r){D(),window.$message.warning("图表正在研发中, 敬请期待...")}}),k=s=>_(this,null,function*(){if(!["TextGroup","TextCommon","Other1","Other2"].includes(s.key))try{b();const a=["Backgrounds","Rabbits","Clothing","Informations","Other"];f(s.chartKey,y(s)),f(s.conKey,v(s));let g=yield F(s);e.addComponentList(g,!1,!0),e.setTargetSelectChart(g.id),a.includes(s.package)&&e.setLock(!0,!0),S()}catch(a){D(),window.$message.warning("图表正在研发中, 敬请期待...")}});return q(()=>m.value,s=>{s===E.DOUBLE&&J(()=>{i.value.classList.add("miniAnimation")})}),(s,r)=>(C(),h("div",Be,[O("div",{ref_key:"contentChartsItemBoxRef",ref:i,class:Z(["go-content-charts-item-box",[m.value===x(E).DOUBLE?"double":"single"]])},[(C(!0),h(Q,null,W(t.menuOptions,(a,g)=>(C(),h("div",{class:"item-box",key:g,draggable:"",onDragstart:p=>d(p,a),onDragend:l,onDblclick:p=>k(a),onClick:p=>k(a)},[O("div",Ie,[X(x(w),{class:"list-img",chartConfig:a},null,8,["chartConfig"])])],40,Ae))),128))],2)]))}}),et=U(Ke,[["__scopeId","data-v-0f7324bf"]]);export{et as default};
