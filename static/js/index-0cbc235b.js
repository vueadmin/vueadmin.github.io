var E=(e,t,a)=>new Promise((r,s)=>{var i=n=>{try{c(a.next(n))}catch(o){s(o)}},p=n=>{try{c(a.throw(n))}catch(o){s(o)}},c=n=>n.done?r(n.value):Promise.resolve(n.value).then(i,p);c((a=a.apply(e,t)).next())});import{M as F}from"./index-b2847e01.js";import{_ as K}from"./index-f368e13e.js";import{u as T,E as x}from"./chartEditStore-68139809.js";import{u as $,a as b}from"./chartLayoutStore-5710b396.js";import{cq as k,cr as A,cs as I,ct as M,a as N,cu as R,cv as G,cw as P,cx as U,c as H,d as V,l as q,a0 as Y,L as z,al as J,r as O,o as g,e as h,q as d,F as Q,s as W,g as l,u as _,w as m,h as S,t as L,ag as X,cy as Z,aB as j}from"./index-bf5e9e89.js";import{a as tt,b as et,l as at}from"./plugin-d9d5359a.js";import{c as f}from"./components-5392f6c4.js";import{f as D,c as w,d as nt}from"./index-d703fa48.js";import"./icon-7b13cf26.js";import"./index-91e2335f.js";import"./SettingItem-23e91160.js";/* empty css                                                                   */import"./SettingItemBox-44099fe1.js";import"./CollapseItem-1d851254.js";import"./index.esm.min-734a26c9.js";import"./http-0c17ef5b.js";import"./lodash-cd7358a6.js";function st(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var ot=st;function rt(e,t,a){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),a=a>s?s:a,a<0&&(a+=s),s=t>a?0:a-t>>>0,t>>>=0;for(var i=Array(s);++r<s;)i[r]=e[r+t];return i}var it=rt,lt=k,ct=it;function ut(e,t){return t.length<2?e:lt(e,ct(t,0,-1))}var dt=ut,_t=A,mt=ot,ft=dt,pt=I;function gt(e,t){return t=_t(t,e),e=ft(e,t),e==null||delete e[pt(mt(t))]}var ht=gt,Ct=M;function vt(e){return Ct(e)?void 0:e}var yt=vt,Et=N,xt=U,bt=ht,Ot=A,St=R,Lt=yt,Dt=G,wt=P,At=1,Bt=2,Ft=4,Kt=Dt(function(e,t){var a={};if(e==null)return a;var r=!1;t=Et(t,function(i){return i=Ot(i,e),r||(r=i.length>1),i}),St(e,wt(e),a),r&&(a=xt(a,At|Bt|Ft,Lt));for(var s=t.length;s--;)bt(a,t[s]);return a}),Tt=Kt;const $t={class:"go-content-charts-item-animation-patch"},kt=["onDragstart","onDblclick"],It={class:"list-header"},Mt={class:"list-center go-flex-center go-transition"},Nt={class:"list-bottom"},Rt=V({__name:"index",props:{menuOptions:{type:Array,default:()=>[]}},setup(e){const t=T(),a=$(),r=q(),s=Y(()=>a.getChartType),i=(n,o)=>{f(o.chartKey,D(o)),f(o.conKey,w(o)),n.dataTransfer.setData(Z.DRAG_KEY,j(Tt(o,["image"]))),t.setEditCanvas(x.IS_CREATE,!0)},p=()=>{t.setEditCanvas(x.IS_CREATE,!1)},c=n=>E(this,null,function*(){try{tt(),f(n.chartKey,D(n)),f(n.conKey,w(n));let o=yield nt(n);t.addComponentList(o,!1,!0),t.setTargetSelectChart(o.id),et()}catch(o){at(),window.$message.warning("图表正在研发中, 敬请期待...")}});return z(()=>s.value,n=>{n===b.DOUBLE&&J(()=>{r.value.classList.add("miniAnimation")})}),(n,o)=>{const C=O("n-ellipsis"),v=O("n-text");return g(),h("div",$t,[d("div",{ref_key:"contentChartsItemBoxRef",ref:r,class:X(["go-content-charts-item-box",[_(s)===_(b).DOUBLE?"double":"single"]])},[(g(!0),h(Q,null,W(e.menuOptions,(u,B)=>(g(),h("div",{class:"item-box",key:B,draggable:"",onDragstart:y=>i(y,u),onDragend:p,onDblclick:y=>c(u)},[d("div",It,[l(_(F),{class:"list-header-control-btn",mini:!0,disabled:!0}),l(v,{class:"list-header-text",depth:"3"},{default:m(()=>[l(C,null,{default:m(()=>[S(L(u.title),1)]),_:2},1024)]),_:2},1024)]),d("div",Mt,[l(_(K),{class:"list-img",chartConfig:u},null,8,["chartConfig"])]),d("div",Nt,[l(v,{class:"list-bottom-text",depth:"3"},{default:m(()=>[l(C,{style:{"max-width":"90%"}},{default:m(()=>[S(L(u.title),1)]),_:2},1024)]),_:2},1024)])],40,kt))),128))],2)])}}}),se=H(Rt,[["__scopeId","data-v-3bb6960e"]]);export{se as default};
