var F=(o,p,c)=>new Promise((v,b)=>{var e=i=>{try{O(c.next(i))}catch(l){b(l)}},_=i=>{try{O(c.throw(i))}catch(l){b(l)}},O=i=>i.done?v(i.value):Promise.resolve(i.value).then(e,_);O((c=c.apply(o,p)).next())});import{c as $,d as w,ae as de,$ as me,a0 as ge,p as he,l as h,L as ee,r,o as k,e as I,Q as R,R as D,g as n,u as t,q as S,w as u,m as ve,Z as fe,aN as ye,X as d,b2 as Ce,b0 as te,b3 as be,a1 as Oe,b4 as ke,F as M,s as j,h as K,t as Y,ag as P,z as Ee,A as Se,E as q,b5 as Ie,a3 as xe}from"./index-626b7612.js";import{C as Le}from"./index-4a90cc7c.js";import{l as Ne,c as J}from"./components-e127fb65.js";import{a as Te,b as we,l as Re}from"./plugin-dad6e467.js";import{i as H}from"./icon-c63cf7f2.js";import{p as Ae,b as Be,f as Fe,c as Pe,d as $e}from"./index-c01c3466.js";import{u as z,a as W,C as De}from"./chartLayoutStore-f42711a2.js";import{P as m,b as g,u as He}from"./chartEditStore-0b7ef33c.js";const ze={class:"go-chart-common"},Ue={class:"chart-content-list"},Ve=w({__name:"index",props:{selectOptions:{type:Object,default:()=>{}}},setup(o){const p=o,c=Ne(()=>de(()=>import("./index-b2dee104.js"),["static/js/index-b2dee104.js","static/js/index-69bbc289.js","static/js/index-626b7612.js","static/css/index-365d5483.css","static/js/icon-c63cf7f2.js","static/css/index-4556fefc.css","static/js/chartEditStore-0b7ef33c.js","static/js/plugin-dad6e467.js","static/js/chartLayoutStore-f42711a2.js","static/js/components-e127fb65.js","static/js/index-c01c3466.js","static/js/SettingItem-5e7c51f2.js","static/css/SettingItemBox-36299330.css","static/js/SettingItemBox-7cda1492.js","static/js/CollapseItem-34106d1f.js","static/js/index.esm.min-610b41b2.js","static/js/http-138d8a62.js","static/js/lodash-df5e1ee4.js","static/css/index-436e498c.css","static/js/index-4a90cc7c.js","static/css/index-ebca6225.css","static/css/index-a88e646b.css"])),v=me(),b=ge(()=>e.categorysNum>2?!0:!v.getHidePackageOneCategory);let e=he({menuOptions:[],selectOptions:{},categorys:{all:[]},categoryNames:{all:"所有"},categorysNum:0,saveSelectOptions:{}});const _=h(),O=l=>{for(const s in l){e.selectOptions=l[s];break}};ee(()=>p.selectOptions,l=>{if(e.categorysNum=0,!!l){l.list.forEach(s=>{const y=e.categorys[s.category];e.categorys[s.category]=y&&y.length?[...y,s]:[s],e.categoryNames[s.category]=s.categoryName,e.categorys.all.push(s)});for(const s in e.categorys)e.categorysNum+=1,e.menuOptions.push({key:s,label:e.categoryNames[s]});O(e.categorys),_.value=e.menuOptions[0].key}},{immediate:!0});const i=l=>{e.selectOptions=e.categorys[l]};return(l,s)=>{const y=r("n-menu"),L=r("n-scrollbar");return k(),I("div",ze,[R(n(y,{class:"chart-menu-width",value:_.value,"onUpdate:value":[s[0]||(s[0]=A=>_.value=A),i],options:t(e).menuOptions,"icon-size":16,indent:18},null,8,["value","options"]),[[D,b.value]]),S("div",Ue,[n(L,null,{default:u(()=>[n(t(c),{menuOptions:t(e).selectOptions},null,8,["menuOptions"])]),_:1})])])}}}),Ge=$(Ve,[["__scopeId","data-v-7e154677"]]),Me=ve(),oe=h(Me.getAppTheme);z();const{getCharts:Q}=fe(z()),je=ye({id:"usePackagesStore",state:()=>({packagesList:Object.freeze(Ae)}),getters:{getPackagesList(){return this.packagesList}}}),{BarChartIcon:Ke}=H.ionicons5,{TableSplitIcon:Ye,RoadmapIcon:qe,SpellCheckIcon:bt,GraphicalDataFlowIcon:C}=H.carbon,{getPackagesList:X}=je(),x=[],Z={[m.CHARTS]:{icon:d(qe),label:g.CHARTS},[m.INFORMATIONS]:{icon:d(C),label:g.INFORMATIONS},[m.TABLES]:{icon:d(Ye),label:g.TABLES},[m.DECORATES]:{icon:d(C),label:g.DECORATES},[m.BACKGROUNDS]:{icon:d(C),label:g.BACKGROUNDS},[m.RABBITS]:{icon:d(C),label:g.RABBITS},[m.CLOTHING]:{icon:d(C),label:g.CLOTHING},[m.DECORATION]:{icon:d(C),label:g.DECORATION},[m.JEWELRY]:{icon:d(C),label:g.JEWELRY},[m.LINE]:{icon:d(C),label:g.LINE},[m.OTHER]:{icon:d(C),label:g.OTHER}},Je=()=>{for(const o in X)x.push({key:o,icon:Z[o].icon,label:Z[o].label,list:X[o]})};Je();x[0].key;const N=h(x[0].key),T=h(x[0]),We=(o,p)=>{T.value=p},Qe={class:"list-img",alt:"图表图片"},Xe=w({__name:"index",props:{chartConfig:{type:Object,required:!0}},setup(o){const p=o,c=h(""),v=()=>F(this,null,function*(){c.value=yield Be(p.chartConfig)});return ee(()=>p.chartConfig.key,()=>v(),{immediate:!0}),(b,e)=>{const _=Ce("lazy");return R((k(),I("img",Qe,null,512)),[[_,c.value]])}}});const Ze=o=>(Ee("data-v-01d20f5a"),o=o(),Se(),o),et={class:"go-chart-search-box"},tt={class:"search-list-box"},ot=["title","onClick"],nt=Ze(()=>S("div",{class:"popover-modal"},null,-1)),st=w({__name:"index",props:{menuOptions:{type:Array,default:()=>[]}},setup(o){const p=o;te(a=>({"07df333e":t(oe)}));const c=He(),v=z(),{SearchIcon:b,AlbumsIcon:e,GridIcon:_}=H.ionicons5,O=h(!1),i=h(!1),l=h(void 0),s=h(null),y=h([]),L=h(v.getChartType),A=[{label:"单列",icon:e,value:W.SINGLE},{label:"双列",icon:_,value:W.DOUBLE}];(a=>{const E=[];for(const B of a)E.push(...B.list);return E})(p.menuOptions);const U=()=>{l.value=void 0,i.value=!1,s.value=null,y.value=[]},V=a=>{i.value&&a.target&&(a.target.closest(".go-chart-search")||U())},ne=a=>F(this,null,function*(){try{Te(),J(a.chartKey,Fe(a)),J(a.conKey,Pe(a));let E=yield $e(a);c.addComponentList(E,!1,!0),c.setTargetSelectChart(E.id),U(),we()}catch(E){Re(),window.$message.warning("图表正在研发中, 敬请期待...")}}),se=a=>{L.value=a,v.setItem(De.Chart_TYPE,a)};return be(document,"click",a=>{V(a)}),Oe(()=>{ke(document,"click",V)}),(a,E)=>{const B=r("n-input-group"),ae=r("n-empty"),ce=r("n-text"),le=r("n-scrollbar"),re=r("n-popover"),ie=r("n-icon"),ue=r("n-tooltip"),pe=r("n-button"),_e=r("n-button-group");return k(),I("div",et,[S("div",{class:P(["chart-search go-transition",{"chart-search-focus":O.value}])},[n(re,{class:"chart-search-popover","show-arrow":!1,show:i.value,to:!1,trigger:"hover",placement:"bottom-start"},{trigger:u(()=>[n(B)]),default:u(()=>[S("div",tt,[n(le,{style:{"max-height":"500px"}},{default:u(()=>[R(n(ae,{size:"small",description:"没有找到组件~"},null,512),[[D,!y.value.length]]),(k(!0),I(M,null,j(y.value,f=>(k(),I("div",{class:"list-item go-flex-items-center go-ellipsis-1",key:f.key,title:f.title,onClick:G=>ne(f)},[n(t(Xe),{class:"list-item-img",chartConfig:f},null,8,["chartConfig"]),n(ce,{class:"list-item-fs",depth:"2"},{default:u(()=>[K(Y(f.title),1)]),_:2},1024)],8,ot))),128))]),_:1}),nt])]),_:1},8,["show"])],2),n(_e,{class:P(["btn-group go-transition",{"btn-group-focus":O.value}]),style:{display:"flex"}},{default:u(()=>[(k(),I(M,null,j(A,(f,G)=>n(pe,{ghost:"",size:"small",key:G,type:L.value===f.value?"primary":"tertiary",onClick:pt=>se(f.value)},{default:u(()=>[n(ue,{"show-arrow":!1,trigger:"hover"},{trigger:u(()=>[n(ie,{size:"14",component:f.icon},null,8,["component"])]),default:u(()=>[K(" "+Y(f.label),1)]),_:2},1024)]),_:2},1032,["type","onClick"])),64))]),_:1},8,["class"])])}}}),at=$(st,[["__scopeId","data-v-01d20f5a"]]);const ct={class:"menu-width-box"},lt={class:"menu-component-box"},rt=w({__name:"index",setup(o){return te(p=>({"21c50fc5":t(oe)})),(p,c)=>{const v=r("n-icon"),b=r("n-menu"),e=r("go-skeleton");return k(),q(t(Le),{class:P(["go-content-charts",{scoped:!t(Q)}]),title:"组件",depth:1,backIcon:!1},{icon:u(()=>[n(v,{size:"14",depth:2},{default:u(()=>[n(t(Ke))]),_:1})]),"top-right":u(()=>[R(n(t(at),{menuOptions:t(x)},null,8,["menuOptions"]),[[D,t(Q)]])]),default:u(()=>[S("aside",null,[S("div",ct,[n(b,{class:"menu-width",value:t(N),"onUpdate:value":[c[0]||(c[0]=_=>Ie(N)?N.value=_:null),t(We)],options:t(x),"icon-size":16,indent:18},null,8,["value","options","onUpdate:value"]),S("div",lt,[n(e,{load:!t(T),round:"",text:"",repeat:2,style:{width:"90%"}},null,8,["load"]),t(T)?(k(),q(t(Ge),{selectOptions:t(T),key:t(N)},null,8,["selectOptions"])):xe("",!0)])])])]),_:1},8,["class"])}}}),it=$(rt,[["__scopeId","data-v-b66dbfc2"]]),Ot=Object.freeze(Object.defineProperty({__proto__:null,default:it},Symbol.toStringTag,{value:"Module"}));export{Xe as _,Ot as i,je as u};
