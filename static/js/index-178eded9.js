var E=(e,t,a)=>new Promise((o,s)=>{var i=n=>{try{u(a.next(n))}catch(r){s(r)}},p=n=>{try{u(a.throw(n))}catch(r){s(r)}},u=n=>n.done?o(n.value):Promise.resolve(n.value).then(i,p);u((a=a.apply(e,t)).next())});import{M as w}from"./index-26ddcbfe.js";import{_ as F}from"./index-c15e314a.js";import{u as K,E as x}from"./chartEditStore-cc4b10aa.js";import{u as I,a as b}from"./chartLayoutStore-b961bacf.js";import{cs as T,ct as B,cu as $,cv as R,a as M,cw as N,cx as G,cy as P,cz as U,c as H,d as V,l as z,a0 as Y,L as q,al as J,r as L,o as g,e as h,q as _,F as Q,s as W,g as c,u as C,w as m,h as O,t as S,ag as X,cA as Z,aB as j}from"./index-65582d5a.js";import{a as tt,b as et,l as at}from"./plugin-88fd6d70.js";import{c as f}from"./components-80e79d72.js";import{f as D,c as A,d as nt}from"./index-729397c3.js";import"./icon-f63f5ab2.js";import"./index-688bc2e0.js";import"./SettingItem-4903f278.js";/* empty css                                                                   */import"./SettingItemBox-70561d9c.js";import"./CollapseItem-8bb4daf5.js";import"./index.esm.min-26ac9d30.js";import"./http-9a866697.js";import"./lodash-bc6cd911.js";function st(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var ot=st;function rt(e,t,a){var o=-1,s=e.length;t<0&&(t=-t>s?0:s+t),a=a>s?s:a,a<0&&(a+=s),s=t>a?0:a-t>>>0,t>>>=0;for(var i=Array(s);++o<s;)i[o]=e[o+t];return i}var it=rt,lt=T,ct=it;function ut(e,t){return t.length<2?e:lt(e,ct(t,0,-1))}var dt=ut,_t=B,mt=ot,ft=dt,pt=$;function gt(e,t){return t=_t(t,e),e=ft(e,t),e==null||delete e[pt(mt(t))]}var ht=gt,Ct=R;function vt(e){return Ct(e)?void 0:e}var yt=vt,Et=M,xt=U,bt=ht,Lt=B,Ot=N,St=yt,Dt=G,At=P,Bt=1,kt=2,wt=4,Ft=Dt(function(e,t){var a={};if(e==null)return a;var o=!1;t=Et(t,function(i){return i=Lt(i,e),o||(o=i.length>1),i}),Ot(e,At(e),a),o&&(a=xt(a,Bt|kt|wt,St));for(var s=t.length;s--;)bt(a,t[s]);return a}),Kt=Ft;const It={class:"go-content-charts-item-animation-patch"},Tt=["onDragstart","onDblclick"],$t={class:"list-header"},Rt={class:"list-center go-flex-center go-transition"},Mt={class:"list-bottom"},Nt=V({__name:"index",props:{menuOptions:{type:Array,default:()=>[]}},setup(e){const t=K(),a=I(),o=z(),s=Y(()=>a.getChartType),i=(n,r)=>{f(r.chartKey,D(r)),f(r.conKey,A(r)),n.dataTransfer.setData(Z.DRAG_KEY,j(Kt(r,["image"]))),t.setEditCanvas(x.IS_CREATE,!0)},p=()=>{t.setEditCanvas(x.IS_CREATE,!1)},u=n=>E(this,null,function*(){const r=["Backgrounds","Rabbits","Clothing","Informations","Other"];try{tt(),f(n.chartKey,D(n)),f(n.conKey,A(n));let l=yield nt(n);t.addComponentList(l,!1,!0),t.setTargetSelectChart(l.id),r.includes(n.package)&&t.setLock(!0,!0),et()}catch(l){at(),window.$message.warning("图表正在研发中, 敬请期待...")}});return q(()=>s.value,n=>{n===b.DOUBLE&&J(()=>{o.value.classList.add("miniAnimation")})}),(n,r)=>{const l=L("n-ellipsis"),v=L("n-text");return g(),h("div",It,[_("div",{ref_key:"contentChartsItemBoxRef",ref:o,class:X(["go-content-charts-item-box",[s.value===C(b).DOUBLE?"double":"single"]])},[(g(!0),h(Q,null,W(e.menuOptions,(d,k)=>(g(),h("div",{class:"item-box",key:k,draggable:"",onDragstart:y=>i(y,d),onDragend:p,onDblclick:y=>u(d)},[_("div",$t,[c(C(w),{class:"list-header-control-btn",mini:!0,disabled:!0}),c(v,{class:"list-header-text",depth:"3"},{default:m(()=>[c(l,null,{default:m(()=>[O(S(d.title),1)]),_:2},1024)]),_:2},1024)]),_("div",Rt,[c(C(F),{class:"list-img",chartConfig:d},null,8,["chartConfig"])]),_("div",Mt,[c(v,{class:"list-bottom-text",depth:"3"},{default:m(()=>[c(l,{style:{"max-width":"90%"}},{default:m(()=>[O(S(d.title),1)]),_:2},1024)]),_:2},1024)])],40,Tt))),128))],2)])}}}),se=H(Nt,[["__scopeId","data-v-6d2ff4ac"]]);export{se as default};
