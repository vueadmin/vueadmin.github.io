var P=Object.defineProperty;var O=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var E=(e,t,r)=>t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,m=(e,t)=>{for(var r in t||(t={}))b.call(t,r)&&E(e,r,t[r]);if(O)for(var r of O(t))F.call(t,r)&&E(e,r,t[r]);return e};import{aG as L,aK as T,cj as c,aJ as H,ck as d,aH as n}from"./index-fa00012d.js";const C=(e,t)=>d({url:e,method:n.GET,params:t}),J=(e,t,r)=>d({url:e,method:n.POST,data:t,headers:{"Content-Type":r||c.JSON}}),U=(e,t,r)=>d({url:e,method:n.PATCH,data:t,headers:{"Content-Type":r||c.JSON}}),k=(e,t,r)=>d({url:e,method:n.PUT,data:t,headers:{"Content-Type":r||c.JSON}}),A=(e,t)=>d({url:e,method:n.DELETE,params:t}),_=e=>{switch(e){case n.GET:return C;case n.POST:return J;case n.PATCH:return U;case n.PUT:return k;case n.DELETE:return A;default:return C}},q="javascript:",u=e=>{if(typeof e=="string")if(e.startsWith(q)){const t=e.split(q)[1];let r;try{r=new Function(`${t}`)()}catch(l){console.log(l),window.$message.error("js内容解析有误！")}return r}else return e;for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const r=e[t];e[t]=u(r)}return e},j=(e,t)=>{if(!e||!t)return;const{requestOriginUrl:r,requestParams:l}=t,{requestUrl:h,requestContentType:D,requestDataType:S,requestHttpType:w,requestParamsBodyType:R,requestSQLContent:N,requestParams:p}=e;if(S===L.STATIC||!h)return;let a=m(m({},l.Header),p.Header);a=u(a);let s={},f=m({},p.Params);f=u(f);let i=new FormData;switch(i.set("default","defaultData"),R){case T.NONE:break;case T.JSON:a["Content-Type"]=c.JSON,s=u(p.Body.json),typeof s=="string"&&(s=JSON.parse(s));break;case T.XML:a["Content-Type"]=c.XML,s=u(p.Body.xml);break;case T.X_WWW_FORM_URLENCODED:{a["Content-Type"]=c.FORM_URLENCODED;const o=p.Body["x-www-form-urlencoded"];for(const y in o)i.set(y,u(o[y]));s=i;break}case T.FORM_DATA:{a["Content-Type"]=c.FORM_DATA;const o=p.Body["form-data"];for(const y in o)i.set(y,u(o[y]));s=i;break}}D===H.SQL&&(a["Content-Type"]=c.JSON,s=N);try{const o=new Function("return `"+`${r}${h}`.trim()+"`")();return d({url:o,method:w,data:s,params:f,headers:a})}catch(o){console.log(o),window.$message.error("URL地址格式有误！")}};export{j as c,_ as h};
