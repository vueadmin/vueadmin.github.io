var F=(t,p,c)=>new Promise((f,b)=>{var e=i=>{try{O(c.next(i))}catch(l){b(l)}},_=i=>{try{O(c.throw(i))}catch(l){b(l)}},O=i=>i.done?f(i.value):Promise.resolve(i.value).then(e,_);O((c=c.apply(t,p)).next())});import{c as D,d as R,ae as he,$ as fe,a0 as ve,p as ye,l as h,L as se,r,o as S,e as I,Q as w,R as z,g as s,u as o,q as k,w as u,m as Ce,Z as be,aN as Oe,X as d,b2 as Se,b0 as ne,b3 as Ee,a1 as ke,b4 as Ie,F as K,s as Y,h as q,t as J,ag as H,z as xe,A as Le,E as W,b5 as Ne,a3 as Te}from"./index-694637ab.js";import{C as Re}from"./index-9a522b31.js";import{l as we,c as Q}from"./components-eb9c8b61.js";import{a as Ae,b as Be,l as Fe}from"./plugin-045c319a.js";import{i as U}from"./icon-0ec4fc1a.js";import{p as He,b as Pe,f as $e,c as De,d as ze}from"./index-831d8bed.js";import{u as V,C as P,a as X}from"./chartLayoutStore-52717d84.js";import{P as m,b as g,u as Ue}from"./chartEditStore-7bfce8d5.js";const Ve={class:"go-chart-common"},Ge={class:"chart-content-list"},Me=R({__name:"index",props:{selectOptions:{type:Object,default:()=>{}}},setup(t){const p=t,c=we(()=>he(()=>import("./index-523893b4.js"),["static/js/index-523893b4.js","static/js/index-9c732c7c.js","static/js/index-694637ab.js","static/css/index-16c14d98.css","static/js/icon-0ec4fc1a.js","static/css/index-4556fefc.css","static/js/chartEditStore-7bfce8d5.js","static/js/plugin-045c319a.js","static/js/chartLayoutStore-52717d84.js","static/js/components-eb9c8b61.js","static/js/index-831d8bed.js","static/js/SettingItem-02b08d1d.js","static/css/SettingItemBox-36299330.css","static/js/SettingItemBox-019555c5.js","static/js/CollapseItem-f6185e00.js","static/js/index.esm.min-70ee7e56.js","static/js/http-362d2a23.js","static/js/lodash-6953d83c.js","static/css/index-436e498c.css","static/js/index-9a522b31.js","static/css/index-ebca6225.css","static/css/index-e104294e.css"])),f=fe(),b=ve(()=>e.categorysNum>2?!0:!f.getHidePackageOneCategory);let e=ye({menuOptions:[],selectOptions:{},categorys:{all:[]},categoryNames:{all:"所有"},categorysNum:0,saveSelectOptions:{}});const _=h(),O=l=>{for(const n in l){e.selectOptions=l[n];break}};se(()=>p.selectOptions,l=>{if(e.categorysNum=0,!!l){l.list.forEach(n=>{const y=e.categorys[n.category];e.categorys[n.category]=y&&y.length?[...y,n]:[n],e.categoryNames[n.category]=n.categoryName,e.categorys.all.push(n)});for(const n in e.categorys)e.categorysNum+=1,e.menuOptions.push({key:n,label:e.categoryNames[n]});O(e.categorys),_.value=e.menuOptions[0].key}},{immediate:!0});const i=l=>{e.selectOptions=e.categorys[l]};return(l,n)=>{const y=r("n-menu"),L=r("n-scrollbar");return S(),I("div",Ve,[w(s(y,{class:"chart-menu-width",value:_.value,"onUpdate:value":[n[0]||(n[0]=A=>_.value=A),i],options:o(e).menuOptions,"icon-size":16,indent:18},null,8,["value","options"]),[[z,b.value]]),k("div",Ge,[s(L,null,{default:u(()=>[s(o(c),{menuOptions:o(e).selectOptions},null,8,["menuOptions"])]),_:1})])])}}}),je=D(Me,[["__scopeId","data-v-7e154677"]]),Ke=Ce(),ae=h(Ke.getAppTheme),{setItem:Z}=V(),{getCharts:$}=be(V()),Ye=Oe({id:"usePackagesStore",state:()=>({packagesList:Object.freeze(He)}),getters:{getPackagesList(){return this.packagesList}}}),{BarChartIcon:qe}=U.ionicons5,{TableSplitIcon:Je,RoadmapIcon:We,SpellCheckIcon:St,GraphicalDataFlowIcon:C}=U.carbon,{getPackagesList:ee}=Ye(),x=[],te={[m.CHARTS]:{icon:d(We),label:g.CHARTS},[m.INFORMATIONS]:{icon:d(C),label:g.INFORMATIONS},[m.TABLES]:{icon:d(Je),label:g.TABLES},[m.DECORATES]:{icon:d(C),label:g.DECORATES},[m.BACKGROUNDS]:{icon:d(C),label:g.BACKGROUNDS},[m.RABBITS]:{icon:d(C),label:g.RABBITS},[m.CLOTHING]:{icon:d(C),label:g.CLOTHING},[m.DECORATION]:{icon:d(C),label:g.DECORATION},[m.JEWELRY]:{icon:d(C),label:g.JEWELRY},[m.LINE]:{icon:d(C),label:g.LINE},[m.OTHER]:{icon:d(C),label:g.OTHER}},Qe=()=>{for(const t in ee)x.push({key:t,icon:te[t].icon,label:te[t].label,list:ee[t]})};Qe();let oe=x[0].key;const N=h(x[0].key),T=h(x[0]),Xe=(t,p)=>{T.value=p,oe===t?Z(P.CHARTS,!$.value,!1):Z(P.CHARTS,!0,!1),oe=t},Ze={class:"list-img",alt:"图表图片"},et=R({__name:"index",props:{chartConfig:{type:Object,required:!0}},setup(t){const p=t,c=h(""),f=()=>F(this,null,function*(){c.value=yield Pe(p.chartConfig)});return se(()=>p.chartConfig.key,()=>f(),{immediate:!0}),(b,e)=>{const _=Se("lazy");return w((S(),I("img",Ze,null,512)),[[_,c.value]])}}});const tt=t=>(xe("data-v-01d20f5a"),t=t(),Le(),t),ot={class:"go-chart-search-box"},st={class:"search-list-box"},nt=["title","onClick"],at=tt(()=>k("div",{class:"popover-modal"},null,-1)),ct=R({__name:"index",props:{menuOptions:{type:Array,default:()=>[]}},setup(t){const p=t;ne(a=>({"07df333e":o(ae)}));const c=Ue(),f=V(),{SearchIcon:b,AlbumsIcon:e,GridIcon:_}=U.ionicons5,O=h(!1),i=h(!1),l=h(void 0),n=h(null),y=h([]),L=h(f.getChartType),A=[{label:"单列",icon:e,value:X.SINGLE},{label:"双列",icon:_,value:X.DOUBLE}];(a=>{const E=[];for(const B of a)E.push(...B.list);return E})(p.menuOptions);const G=()=>{l.value=void 0,i.value=!1,n.value=null,y.value=[]},M=a=>{i.value&&a.target&&(a.target.closest(".go-chart-search")||G())},ce=a=>F(this,null,function*(){try{Ae(),Q(a.chartKey,$e(a)),Q(a.conKey,De(a));let E=yield ze(a);c.addComponentList(E,!1,!0),c.setTargetSelectChart(E.id),G(),Be()}catch(E){Fe(),window.$message.warning("图表正在研发中, 敬请期待...")}}),le=a=>{L.value=a,f.setItem(P.Chart_TYPE,a)};return Ee(document,"click",a=>{M(a)}),ke(()=>{Ie(document,"click",M)}),(a,E)=>{const B=r("n-input-group"),re=r("n-empty"),ie=r("n-text"),ue=r("n-scrollbar"),pe=r("n-popover"),_e=r("n-icon"),de=r("n-tooltip"),me=r("n-button"),ge=r("n-button-group");return S(),I("div",ot,[k("div",{class:H(["chart-search go-transition",{"chart-search-focus":O.value}])},[s(pe,{class:"chart-search-popover","show-arrow":!1,show:i.value,to:!1,trigger:"hover",placement:"bottom-start"},{trigger:u(()=>[s(B)]),default:u(()=>[k("div",st,[s(ue,{style:{"max-height":"500px"}},{default:u(()=>[w(s(re,{size:"small",description:"没有找到组件~"},null,512),[[z,!y.value.length]]),(S(!0),I(K,null,Y(y.value,v=>(S(),I("div",{class:"list-item go-flex-items-center go-ellipsis-1",key:v.key,title:v.title,onClick:j=>ce(v)},[s(o(et),{class:"list-item-img",chartConfig:v},null,8,["chartConfig"]),s(ie,{class:"list-item-fs",depth:"2"},{default:u(()=>[q(J(v.title),1)]),_:2},1024)],8,nt))),128))]),_:1}),at])]),_:1},8,["show"])],2),s(ge,{class:H(["btn-group go-transition",{"btn-group-focus":O.value}]),style:{display:"flex"}},{default:u(()=>[(S(),I(K,null,Y(A,(v,j)=>s(me,{ghost:"",size:"small",key:j,type:L.value===v.value?"primary":"tertiary",onClick:dt=>le(v.value)},{default:u(()=>[s(de,{"show-arrow":!1,trigger:"hover"},{trigger:u(()=>[s(_e,{size:"14",component:v.icon},null,8,["component"])]),default:u(()=>[q(" "+J(v.label),1)]),_:2},1024)]),_:2},1032,["type","onClick"])),64))]),_:1},8,["class"])])}}}),lt=D(ct,[["__scopeId","data-v-01d20f5a"]]);const rt={class:"menu-width-box"},it={class:"menu-component-box"},ut=R({__name:"index",setup(t){return ne(p=>({"21c50fc5":o(ae)})),(p,c)=>{const f=r("n-icon"),b=r("n-menu"),e=r("go-skeleton");return S(),W(o(Re),{class:H(["go-content-charts",{scoped:!o($)}]),title:"组件",depth:1,backIcon:!1},{icon:u(()=>[s(f,{size:"14",depth:2},{default:u(()=>[s(o(qe))]),_:1})]),"top-right":u(()=>[w(s(o(lt),{menuOptions:o(x)},null,8,["menuOptions"]),[[z,o($)]])]),default:u(()=>[k("aside",null,[k("div",rt,[s(b,{class:"menu-width",value:o(N),"onUpdate:value":[c[0]||(c[0]=_=>Ne(N)?N.value=_:null),o(Xe)],options:o(x),"icon-size":16,indent:18},null,8,["value","options","onUpdate:value"]),k("div",it,[s(e,{load:!o(T),round:"",text:"",repeat:2,style:{width:"90%"}},null,8,["load"]),o(T)?(S(),W(o(je),{selectOptions:o(T),key:o(N)},null,8,["selectOptions"])):Te("",!0)])])])]),_:1},8,["class"])}}}),pt=D(ut,[["__scopeId","data-v-b66dbfc2"]]),Et=Object.freeze(Object.defineProperty({__proto__:null,default:pt},Symbol.toStringTag,{value:"Module"}));export{et as _,Et as i,Ye as u};
